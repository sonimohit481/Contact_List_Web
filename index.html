<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="contact.png" />

    <title>Home</title>
    <link rel="stylesheet" href="Index.css" />
  </head>

  <body>
    <nav>
      <div>
        <a href="./index.html">Home</a>
      </div>
      <div>
        <a href="./AllContact.html">Contact list</a>
      </div>
      <div>
        <a href="./FavouriteContact.html">Favourites</a>
      </div>
    </nav>
    <section>
      <form>
        <h1>Enter your contact details</h1>
        <label for="name">Name: </label>
        <input type="text" placeholder="Enter name" id="name" />
        <label for="phone_no">Phone no: </label>
        <input
          type="number"
          placeholder="Enter Phone no "
          id="phone_no"
          min="0"
        />
        <label for="phone_type">Select type of contact</label>
        <select id="phone_type">
          <option hidden>Select</option>
          <option value="Family">Family</option>
          <option value="Friend">Friend</option>
          <option value="Other">Other</option>
        </select>
        <button id="submit">Submit</button>
      </form>
    </section>
  </body>
  <script>
    // If data exists in the local storage then assign it to the contactList
    var contactList = JSON.parse(localStorage.getItem("contactList")) || [];

    document.querySelector("#submit").addEventListener("click", submit);

    function submit(event) {
      event.preventDefault();
      const name = document.getElementById("name").value.trim();
      const phone = document.getElementById("phone_no").value.trim();
      const type = document.getElementById("phone_type").value.trim();

      if (name?.length < 4) {
        alert("Name must be at least 4 characters");
      } else if (phone?.length !== 10) {
        alert("Phone must be at least 10 characters");
      } else if (type === "Select") {
        alert("Please select any type");
      } else {
        var finalObject = {
          name,
          phone,
          type,
        };
        contactList.push(finalObject);
        localStorage.setItem("contactList", JSON.stringify(contactList));
        alert("Add contact to your contact list!");
        window.location.href = "ALLContact.html";
      }
    }
  </script>
</html>
